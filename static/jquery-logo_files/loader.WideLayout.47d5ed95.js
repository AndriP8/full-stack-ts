(window.webpackJsonp=window.webpackJsonp||[]).push([[189,206],{"0af8":function(t,e,i){"use strict";i.r(e),i.d(e,"roundToNearestDevicePixel",(function(){return h})),i.d(e,"default",(function(){return p}));var o=i("ERkP"),n=i.n(o),s=i("aITJ"),a=i("v6aA"),r=i("jHwr"),c=i("rHpw"),l=i("i4Oy"),d=i("MWbm");const h=({cssPixels:t,dpr:e})=>Math.round(t*e)/e;class p extends n.a.PureComponent{constructor(t,e){super(t,e),this._setContentRef=t=>{this._contentNode=t},this._setContainerRef=t=>{this._containerNode=t},this._handleProgrammaticScroll=t=>{this._prevScrollY=(this._prevScrollY||0)+t,this.setState({contentOffset:Math.max(0,this.state.contentOffset+t)})},this._handleLayout=t=>{const e=t.nativeEvent.layout.height>this.state.contentHeight;this._updatePositioning(e)},this.state={stickyTop:!0,stickyThreshold:0,contentOffset:0,contentHeight:0,stickyOffset:0,position:"sticky"},this._scheduleUpdatePositioning=Object(r.a)(this._updatePositioning.bind(this),window.requestAnimationFrame)}UNSAFE_componentWillMount(){const{viewport:t}=this.context;this._removeProgrammaticScrollListener=t.addProgrammaticScrollListener(this._handleProgrammaticScroll)}componentDidMount(){const{viewport:t}=this.context;if(this._updatePositioning(),this._removeScrollListener=t.addScrollListener(this._scheduleUpdatePositioning),this._containerNode){const e=this._containerNode.getBoundingClientRect(),i=t.scrollY();this._prevScrollY=i,this.setState({stickyOffset:i+e.top})}}componentWillUnmount(){this._removeScrollListener&&this._removeScrollListener(),this._removeProgrammaticScrollListener&&this._removeProgrammaticScrollListener()}render(){const{contentOffset:t,position:e,stickyThreshold:i,stickyTop:o}=this.state,s=m[e],a=window.devicePixelRatio||1,r=h({cssPixels:i,dpr:a}),c=h({cssPixels:t,dpr:a}),l={top:o?`${r}px`:null,bottom:o?null:`${r}px`};return n.a.createElement(d.a,{ref:this._setContainerRef,style:[m.container,{minHeight:this.state.contentHeight}]},n.a.createElement(d.a,{style:{marginTop:`${c}px`}}),n.a.createElement(d.a,{onLayout:this._handleLayout,ref:this._setContentRef,style:[this.props.style,l,s]},this.props.children))}_updatePositioning(t=!1){if(!this._contentNode||!this._containerNode)return;const e=this.context.viewport.scrollY(),i=e-this._prevScrollY;if(Math.abs(i)<.5&&!t)return;const{distanceFromBottom:o}=this.props;this._prevScrollY=e;const n=!!this._contentNode&&this._contentNode.getBoundingClientRect(),a=!!this._containerNode&&this._containerNode.getBoundingClientRect();if(!n||!a)return;const{height:r}=l.a.get("window"),c=e+a.top,d=Math.max(n.top-a.top,0);if(r-n.height>c)this._updateState({stickyTop:!0,stickyThreshold:c,contentOffset:0,stickyOffset:c,contentHeight:n.height,position:"fixed"});else{const t=i>0,e=t!==this.state.stickyTop,a=window.devicePixelRatio||1,l=n.bottom-r+o<=1/a,h=c-n.top<=1/a;if((t&&l||!t&&h)&&s.b.isFirefox()){const t=o,e=c;this._updateState({position:"fixed",stickyOffset:c,stickyTop:h,stickyThreshold:h?e:t,contentOffset:d,contentHeight:n.height})}else{const i=r-n.height-o,s=r-n.height-c;this._updateState({position:"sticky",stickyTop:t,stickyOffset:c,stickyThreshold:t?i:s,contentOffset:e?d:this.state.contentOffset,contentHeight:n.height})}}}_updateState(t){const e=this.state.stickyTop!==t.stickyTop,i=this.state.stickyThreshold!==t.stickyThreshold,o=Math.abs(this.state.contentOffset-t.contentOffset)>.5,n=Math.abs(this.state.stickyOffset-t.stickyOffset)>.5,s=this.state.position!==t.position,a=this.state.contentHeight!==t.contentHeight;(e||i||o||n||s||a)&&this.setState(t)}}p.contextType=a.a,p.defaultProps={distanceFromBottom:10};const m=c.a.create((t=>({container:{height:"100%"},sticky:{position:"sticky"},fixed:{position:"fixed"},static:{position:"static"}})))},LHcr:function(t,e,i){"use strict";i.r(e),i.d(e,"WhoToFollowContainer",(function(){return U}));i("kYxP");var o=i("ERkP"),n=i.n(o),s=i("Xs4Y"),a=i("kGix"),r=i("v//M"),c=i("3XMw"),l=i.n(c),d=i("Rp9C"),h=i("rHpw"),p=i("MWbm"),m=i("lP98"),u=i("RqPI"),f=i("rxPX"),_=i("0KEI");const y="profile_accounts_sidebar",g=(t,e)=>u.q(t),b=(t,e)=>e.userId,w=(t,e)=>{const i=b(0,e),o=g(t);return m.c(t,{displayLocation:y,similarToUserId:i===o?void 0:i})},v=(t,e)=>{const i=b(0,e),o=g(t);return m.b(t,{displayLocation:y,similarToUserId:i===o?void 0:i})};var E=Object(f.a)().propsFromState((()=>({fetchStatus:v,loggedInUserId:g,recommendations:w}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(_.createLocalApiErrorHandlerWithContextFactory)("WHO_TO_FOLLOW_CONTAINER"),fetchRecommendationsIfNeeded:m.a}))).withAnalytics({component:"suggest_who_to_follow"}),I=i("Re5t"),O=i("hqDb"),R=i("hxu0"),L=i("6vad"),x=i("rC8y");const T=l.a.a526aa66,C=l.a.ef62501f,S=l.a.d228a9a0;var P=Object(R.a)((({isInSidebar:t,userId:e,userIds:i,withProfileHeaderText:o})=>{const s=i.length>3,a=`/i/connect_people?user_id=${e}`;return n.a.createElement(p.a,{accessibilityLabel:T,accessibilityRole:"complementary"},n.a.createElement(L.b,{text:o?C:T}),n.a.createElement(O.a,{displayMode:I.a.UserCompact,userIds:i.slice(0,3),withItemBorder:!0}),s&&n.a.createElement(x.a,{link:a,text:S,withBottomRadius:!0,withDarkerInteractiveBackground:t}))}));const k=l.a.fd6473fa,H={element:"user",action:"results"},N={viewType:"who_to_follow"};class U extends n.a.PureComponent{constructor(...t){super(...t),this._renderContent=()=>{const{recommendations:t,userId:e,withProfileHeaderText:i}=this.props,o=t&&t.map((t=>t.user));return n.a.createElement(P,{userId:e,userIds:o,withProfileHeaderText:i})},this._handleImpression=t=>{const{analytics:e}=this.props,i=t&&t.slice(0,3).map((t=>({...d.a.forUser(t.user),suggestion_details:{source_data:t.token}})));e.scribe({...H,data:{items:i}})}}componentDidMount(){const{recommendations:t}=this.props;this._fetchRecommendations(this.props),t&&t.length>0&&this._handleImpression(t)}componentDidUpdate(t){const{recommendations:e}=this.props;this.props.userId!==t.userId&&this._fetchRecommendations(this.props),e!==t.recommendations&&e&&e.length>0&&this._handleImpression(e)}render(){const{fetchStatus:t,style:e}=this.props;return t===a.a.FAILED||this._hasEmptySuggestionList()?null:n.a.createElement(p.a,{style:[F.root,e]},n.a.createElement(r.a,{accessibilityLabel:k,behavioralEventContext:N,fetchStatus:t,render:this._renderContent}))}_fetchRecommendations(t){const{createLocalApiErrorHandler:e,fetchRecommendationsIfNeeded:i,loggedInUserId:o,userId:n}=t;i({limit:4,displayLocation:y,similarToUserId:n!==o?n:void 0}).catch(e(s.a))}_hasEmptySuggestionList(){const{fetchStatus:t,recommendations:e}=this.props;return t===a.a.LOADED&&0===e.length}}const F=h.a.create((t=>({root:{minHeight:"15rem"}}))),M=E(U);e.default=M},Xs4Y:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var o=i("k49u"),n=i("fs1G");const s={[o.a.ResourceNotFound]:{customAction:n.a}}},e5HP:function(t,e,i){"use strict";i.d(e,"a",(function(){return v}));var o=i("ERkP"),n=i.n(o),s=i("t62R"),a=i("3XMw"),r=i.n(a),c=i("rHpw"),l=i("MWbm"),d=i("Lsrn"),h=i("k/Ka");const p=(t={})=>Object(h.a)("svg",{...t,accessibilityHidden:void 0===t.accessibilityLabel,style:[d.a.root,t.style],viewBox:"0 0 24 24"},n.a.createElement("g",null,n.a.createElement("path",{d:"M12 1C5.92 1 1 5.92 1 12s4.92 11 11 11 11-4.92 11-11S18.08 1 12 1zm5.05 12.48c0 .48-.39.87-.88.87-.477 0-.87-.393-.87-.87V9.94l-6.85 6.85c-.163.166-.387.26-.62.26-.233 0-.457-.094-.62-.26-.338-.341-.338-.899 0-1.24l6.85-6.85h-3.54c-.477 0-.87-.393-.87-.87 0-.49.39-.88.87-.88h5.65c.11 0 .23.03.33.07.11.04.2.1.29.19.09.09.15.18.19.29.04.1.07.22.07.33v5.65z"})));p.metadata={width:24,height:24};var m=p,u=i("uFYP");const f=r.a.f1a1b790,_=r.a.if2bf8b3,y=r.a.f3624b5c,g=r.a.b4b3b113,b=r.a.be22205f,w=r.a.hcbbe447;class v extends n.a.Component{render(){const{color:t,nativeID:e,style:i,withCircleIcon:o}=this.props,a=o?m:u.a;return n.a.createElement(l.a,{style:[E.root,i]},n.a.createElement(a,{style:[E.icon,t&&E[t]]}),n.a.createElement(s.b,{color:t,nativeID:e,size:"subtext2"},this._getPromotedLabel()))}_getPromotedLabel(){const{contentAuthorId:t,label:e,promotedContent:i}=this.props,{adMetadataContainer:o,advertiser:n,advertiser_name:s,disclosure_type:a}=i,r=t&&n&&t===n.id_str,c="string"==typeof a&&"political"===a.toLowerCase(),l="string"==typeof a&&"issue"===a.toLowerCase(),d=!(!o||"POLITICAL"!==o.disclaimerType)||c,h=!(!o||"ISSUE"!==o.disclaimerType)||l,{removePromotedAttributionForPreroll:p}=o||{};let m;return m=e||(!s||r||p?d?y:h?b:_:d?g({fullName:s}):h?w({fullName:s}):f({fullName:s})),m}}v.defaultProps={color:"gray700",withCircleIcon:!1};const E=c.a.create((t=>({root:{alignItems:"center",flexDirection:"row"},icon:{color:t.colors.gray700,height:"1em",marginRight:t.spaces.space4,flexShrink:0},gray700:{color:t.colors.gray700},white:{color:t.colors.white}})))},fyKl:function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return E}));var o=i("97Jx"),n=i.n(o),s=i("ERkP"),a=i.n(s),r=i("zfvc"),c=i("jHwr"),l=i("VY6S"),d=i("w9LO"),h=i("//dC"),p=i("lHOd"),m=i("Oe3h"),u=i("0FVZ"),f=i("7N4s"),_=i("cHvH"),y=i("rHpw"),g=i("i4Oy"),b=i("shC7"),w=i("MWbm");const v=y.a.create((t=>({rootNarrow:{maxWidth:"75%"},rootWide:{maxWidth:`calc(${t.spaces.space64} * 6)`},anchor:y.a.absoluteFillObject,mask:{...y.a.absoluteFillObject,position:"fixed"},bodyRectHelper:{...y.a.absoluteFillObject,bottom:void 0},content:{borderRadius:t.borderRadii.small,position:"absolute",overflow:"hidden",backgroundColor:t.colors.navigationBackground,boxShadow:t.boxShadows.medium},contentInitialRender:{position:"fixed",opacity:0},contentFixed:{position:"fixed",overflowY:"auto",overscrollBehavior:"contain"}})));class E extends a.a.Component{constructor(t,e){super(t,e),this._handleAnimateComplete=()=>{const{onAnimateComplete:t}=this.props;t&&t()},this._handleEsc=t=>{const{onDismiss:e}=this.props,{altKey:i,ctrlKey:o,key:n,metaKey:s}=t;!(i||o||s)&&"Escape"===n&&e()},this._receiveBodyRectHelperRef=t=>{t&&this._bodyRectHelperNode!==t&&(this._bodyRectHelperNode=t,this._scheduleUpdate())},this._receiveAnchorRef=t=>{t&&this._anchorNode!==t&&(this._anchorNode=t,this._scheduleUpdate())},this._receiveContentRef=t=>{t&&this._contentNode!==t&&(this._contentNode=t,this._scheduleUpdate())},this._updatePosition=()=>{if(!(this._mounted&&(this._anchorNode||this.props.position)&&this._contentNode&&this._contentNode instanceof window.HTMLElement&&this._bodyRectHelperNode&&this._bodyRectHelperNode instanceof window.HTMLElement))return;const t=this._contentNode.scrollHeight,e=this._contentNode.scrollWidth,{left:i,top:o,width:n}=this._bodyRectHelperNode.getBoundingClientRect(),{height:s,width:a}=g.a.get("window");let r={left:0,top:0,height:0,width:0};this.props.position?r={...r,...this.props.position}:this._anchorNode&&this._anchorNode instanceof window.HTMLElement&&(r=this._anchorNode.getBoundingClientRect());const{height:c,left:l,top:d,width:h}=r,p=a-n,m=l-i,u=d-o,f=l+h>=e,_=d+c>=t,y=a-l>=e,w=s-d>=t,v=this.props.preferredVerticalOrientation,E=(t=>b.a.getConstants().isRTL?"left"===t?"right":"left":t)(this.props.preferredHorizontalOrientation),I=this.state.verticalOrientation||(({canOrientDown:t,canOrientUp:e,verticalPreference:i})=>e&&t||!e&&!t?i:e?"up":"down")({verticalPreference:v,canOrientUp:_,canOrientDown:w}),O=this.state.horizontalOrientation||(({canOrientLeft:t,canOrientRight:e,horizontalPreference:i})=>!t||"left"!==i&&e?"right":"left")({horizontalPreference:E,canOrientLeft:f,canOrientRight:y}),R=this.props.isFixed?l:m,L=this.props.isFixed?d:u,x="up"===I?L+c-t:L,T="left"===O?a-R-h-p:a-R-e-p;this.setState({top:Math.max(x,0),right:T,verticalOrientation:I,horizontalOrientation:O})},this.state=Object.freeze({}),this._scheduleUpdate=Object(c.a)(this._updatePosition,window.requestAnimationFrame),this._scheduleDebouncedUpdate=Object(l.a)(this._scheduleUpdate,250)}componentDidMount(){this._mounted=!0,g.a.addEventListener("change",this._scheduleDebouncedUpdate)}componentWillUnmount(){this._mounted=!1,g.a.removeEventListener("change",this._scheduleDebouncedUpdate)}render(){const{animateInDuration:t,animateType:e,children:i,isFixed:o,onDismiss:s,preventFocusShift:c,withKeyboardNavigation:l}=this.props,{right:g,top:E,verticalOrientation:I}=this.state,O=void 0===E,R=`calc(100vh - ${E||0}px)`,L=[v.content,O&&v.contentInitialRender,o&&[v.contentFixed,{maxHeight:R}],{top:E,right:b.a.getConstants().isRTL?void 0:g,left:b.a.getConstants().isRTL?g:void 0}],x=a.a.createElement(a.a.Fragment,null,a.a.createElement(w.a,{onClick:s,style:v.mask}),a.a.createElement(w.a,{ref:this._receiveBodyRectHelperRef,style:v.bodyRectHelper}),a.a.createElement(_.a,null,(({windowWidth:o})=>a.a.createElement(w.a,{accessibilityRole:"menu",onKeyUp:this._handleEsc,ref:this._receiveContentRef,style:[o<y.a.theme.breakpoints.medium?v.rootNarrow:v.rootWide,L]},O&&"slide"===e?i:a.a.createElement(r.b,{animateMount:"up"!==I,duration:t,onAnimateComplete:this._handleAnimateComplete,show:!0,type:e},(({isAnimating:t})=>a.a.createElement(m.a,{id:"Dropdown",minimizeReporting:t},((t,e)=>a.a.createElement(w.a,n()({ref:t()},e({})),i)))))))));return a.a.createElement(w.a,{ref:this._receiveAnchorRef,style:v.anchor},a.a.createElement(u.a.Dropdown,null,a.a.createElement(p.a.Consumer,null,(t=>a.a.createElement(f.b.Consumer,null,(({isModal:e})=>a.a.createElement(h.a,{history:t,isModal:e,onDismiss:s},c?x:a.a.createElement(d.a,{withKeyboardNavigation:l},x))))))))}}E.defaultProps={preferredHorizontalOrientation:"left",preferredVerticalOrientation:"down",animateType:"slide",animateInDuration:"normal",withKeyboardNavigation:!0}},jHwr:function(t,e,i){"use strict";e.a=(t,e)=>{let i=null;const o=()=>{i=null,t()};return()=>(i||(i=e(o)),i)}},lP98:function(t,e,i){"use strict";i.d(e,"c",(function(){return g})),i.d(e,"b",(function(){return b})),i.d(e,"a",(function(){return w}));var o=i("/kEJ"),n=i("oEOe"),s=i("RgK2"),a=i.n(s),r=i("kGix"),c=i("Ssj5");const l="recommendations",d=30,h="rweb/recommendations/FETCH_REQUEST",p="rweb/recommendations/FETCH_SUCCESS",m="rweb/recommendations/FETCH_FAILURE",u={},f=({displayLocation:t,similarToUserId:e})=>t+(e?`_${e}`:"");c.a.register({[l]:function(t=u,e){if(!e.meta)return t;switch(e.type){case h:{const i=f(e.meta);return{...t,[i]:{...t[i],fetchStatus:r.a.LOADING}}}case m:{const i=f(e.meta);return{...t,[i]:{...t[i],fetchStatus:r.a.FAILED}}}case p:{const i=f(e.meta),o=e.payload&&e.payload.entities?e.payload.entities:{recommendations:a.a},n=(e.payload&&e.payload.result?e.payload.result:y).map((t=>o.recommendations[t]));return{...t,[i]:{...t[i],fetchStatus:r.a.LOADED,recommendations:n}}}default:return t}}});const _=[],y=[],g=(t,{displayLocation:e,similarToUserId:i})=>{const o=t.recommendations[f({displayLocation:e,similarToUserId:i})];return o&&o.recommendations?o.recommendations:_},b=(t,{displayLocation:e,similarToUserId:i})=>{const o=t.recommendations[f({displayLocation:e,similarToUserId:i})];return o?o.fetchStatus:r.a.NONE},w=t=>(e,i,s)=>{const c=i(),{displayLocation:l,similarToUserId:u}=t,f=g(c,{displayLocation:l,similarToUserId:u}),_=b(c,{displayLocation:l,similarToUserId:u})===r.a.LOADED;return f&&_?Promise.resolve(a.a):e((t=>(e,i,{api:s})=>{const{displayLocation:a,itsInterests:r,limit:c=d,similarToUserId:l}=t;return Object(n.b)(e,{request:s.Recommendations.fetch,params:{display_location:a,itsInterests:r,limit:c,user_id:l}})({actionTypes:{REQUEST:h,SUCCESS:p,FAILURE:m},context:"FETCH_RECOMMENDATIONS",meta:{displayLocation:a,similarToUserId:l}},(t=>{if(t&&t.entities)return[Object(o.c)(t.entities)]}))})(t))}},sAnO:function(t,e,i){"use strict";i.r(e);var o=i("fyKl");e.default=o.default},uFYP:function(t,e,i){"use strict";var o=i("ERkP"),n=i.n(o),s=i("Lsrn"),a=i("k/Ka");const r=(t={})=>Object(a.a)("svg",{...t,accessibilityHidden:void 0===t.accessibilityLabel,style:[s.a.root,t.style],viewBox:"0 0 24 24"},n.a.createElement("g",null,n.a.createElement("path",{d:"M20.75 2H3.25C2.007 2 1 3.007 1 4.25v15.5C1 20.993 2.007 22 3.25 22h17.5c1.243 0 2.25-1.007 2.25-2.25V4.25C23 3.007 21.993 2 20.75 2zM17.5 13.504c0 .483-.392.875-.875.875s-.875-.393-.875-.876V9.967l-7.547 7.546c-.17.17-.395.256-.62.256s-.447-.086-.618-.257c-.342-.342-.342-.896 0-1.237l7.547-7.547h-3.54c-.482 0-.874-.393-.874-.876s.392-.875.875-.875h5.65c.483 0 .875.39.875.874v5.65z"})));r.metadata={width:24,height:24},e.a=r},uo3S:function(t,e,i){"use strict";i.r(e),i.d(e,"InThisConversation",(function(){return g}));var o=i("ERkP"),n=i.n(o),s=(i("kYxP"),i("RqPI")),a=i("VAyw"),r=i("XOJV"),c=i("s1N3"),l=i("rxPX");const d=(t,e)=>e.focalTweetId;var h=Object(l.a)().propsFromState((()=>({focalTweetId:d,loggedInUserId:s.q,tweetMap:r.a.selectAll}))).adjustStateProps((({focalTweetId:t,loggedInUserId:e,tweetMap:i})=>{const o=t&&i[t];if(!o)return{participantIds:[]};const n=(t,i)=>{var o;const n=e===i,s=null==(o=t.unmentioned_user_ids)?void 0:o.includes(i);return n||!s},s=t=>{var e;return((null==(e=t.entities)?void 0:e.user_mentions)||[]).filter((e=>n(t,e.id_str))).map((t=>t.id_str))||[]},r=[o.user,...s(o),...(l=o,a.a.mergeTaggedUsers(l.extended_entities&&l.extended_entities.media||[]).map((t=>t.user_id)))];var l;const d=o.quoted_status&&i[o.quoted_status];return d&&(r.push(...(t=>n(t,t.user)?[t.user]:[])(d)),r.push(...s(d))),{participantIds:Object(c.a)(r)}})).withAnalytics({component:"in_this_conversation"}),p=i("3XMw"),m=i.n(p),u=i("6vad"),f=i("hqDb"),_=i("MWbm");const y=m.a.j88f27d8,g=n.a.memo((({participantIds:t})=>n.a.createElement(_.a,{accessibilityLabel:y,accessibilityRole:"complementary"},n.a.createElement(u.b,{text:y}),n.a.createElement(f.a,{userIds:t.slice(0,3),withFinalItemBorder:!1,withItemBorder:!0})))),b=h(g);e.default=b}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/loader.WideLayout.47d5ed95.js.map